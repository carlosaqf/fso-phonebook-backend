{"version":3,"sources":["Components/Finder.js","Components/Display.js","Components/AddPerson.js","services/persons.js","App.js","index.js"],"names":["Finder","persons","useState","searchTerm","setSearchTerm","results","filter","person","name","toLowerCase","includes","trim","onChange","e","target","value","placeholder","map","item","i","key","number","Display","handleDelete","console","log","onClick","id","AddPerson","handleSubmit","handleNameChange","handleNumberChange","newNumber","newName","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","delete","App","setPersons","useEffect","personService","initialPersons","setNewName","setNewNumber","formatNumber","num","replace","length","preventDefault","alert","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e30e723b.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst Finder = ({ persons }) => {\r\n\r\n    const [searchTerm, setSearchTerm] = useState('')\r\n\r\n    const handleChange = (e) => {\r\n        setSearchTerm(e.target.value)\r\n    }\r\n\r\n    const results = !searchTerm ? persons : persons.filter(person => person.name.toLowerCase().includes(searchTerm.toLowerCase().trim()))\r\n\r\n    return(\r\n        <div>\r\n            <input \r\n                onChange={handleChange}\r\n                value={searchTerm}\r\n                placeholder=\"Search for user\"\r\n            />\r\n            <ul>\r\n                {results.map((item, i) => (\r\n                    <li key={i}>{item.name}: {item.number}</li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Finder","import React from 'react';\r\n\r\nconst Display = ({ persons, handleDelete }) => {\r\n  return(\r\n    <div>\r\n      <ul>\r\n        {console.log('this is the current persons', persons)}\r\n        {persons\r\n          .map(person => (\r\n            <li key={person.name}>\r\n              {person.name} {person.number}\r\n              <button onClick={() => handleDelete(person.id)}>Delete</button>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Display","import React from 'react'\r\n\r\nconst AddPerson = ({ handleSubmit, handleNameChange, handleNumberChange, newNumber, newName }) => {\r\n\r\n    return(\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                    name: \r\n                    <input\r\n                    onChange={handleNameChange}\r\n                    placeholder=\"Enter name\"\r\n                    value={newName}\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    number: \r\n                    <input \r\n                    onChange={handleNumberChange}\r\n                    placeholder=\"Enter number\"\r\n                    value={newNumber}\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <button type=\"submit\">Add</button>\r\n                </div>      \r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddPerson","import axios from 'axios'\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react';\nimport Finder from './Components/Finder'\nimport Display from './Components/Display'\nimport AddPerson from './Components/AddPerson'\nimport axios from 'axios'\nimport personService from './services/persons'\nimport { format } from 'url';\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  // { name: 'Carlos Fegurgur' , number: '(671) 483-2699' },\n  // { name: 'Antonio Quan', number: '(805) 215-2118' },\n  // { name: 'Dan Abramov', number: '(124) 323-4345' },\n  // { name: 'Mary Poppendieck', number: '(392) 642-3122' }\n  \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        console.log('This is the response', initialPersons)\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  // const [searchTerm, setSearchTerm] = useState('')\n  // const [searchResults, setSearchResults] = useState([])\n\n  // Create copy of persons array and add new Object containing name and number of person being added\n  const handleSubmit = (e) => {\n    \n    e.preventDefault()\n\n    // console.log('This is the name', newName)\n    // console.log(typeof newName)\n    // console.log('This is the current name', persons[0].name)\n    // console.log(typeof persons[0].name)\n    // console.log(newName === persons[0].name)\n    // console.log('This is the number', newNumber)\n    // console.log(persons)\n    // console.log('This is the searchTerm', searchTerm)\n\n    if (persons.filter(person => person.name.toLowerCase() === newName.toLowerCase()).length > 0){\n      alert(`${newName} already exists`)\n    }else if (newName === ''){\n      alert('Please enter a name')\n    }else if (persons.filter(person => person.number === newNumber).length > 0){\n      alert('Number already exists')\n    }else if (newNumber === ''){\n      alert('Please enter a number')\n    }else{\n      console.log(formatNumber(newNumber))\n\n      personService\n        .create({\n          name: newName,\n          number: formatNumber(newNumber)\n        })\n        .then(returnedPerson =>{\n          setPersons(persons.concat(returnedPerson))\n        })\n\n      //setPersons([...persons, { name: newName, number: formatNumber(newNumber)}])\n      setNewName('')\n      setNewNumber('')\n      alert('Submit Completed')\n    }\n  }\n\n  // Sets name input to temporary newName value\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const formatNumber = (num) => {\n    num = num.replace(/[^\\d]/g, \"\")\n    if (num.length === 10){\n      return num.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"($1) $2-$3\")\n    }\n    return null\n  }\n\n  // Sets number input to temporary newNumber value\n  const handleNumberChange = (e) => {\n    console.log(e.target.value)\n    if (e.target.value.length <= 10){\n      setNewNumber(e.target.value)\n    }else{\n      alert('Number is too long')\n    }\n  }\n\n  // const handleFilterChange = (e) => {\n  //   setSearchTerm(e.target.value)\n  // }\n\n  // useEffect(() => {\n  //   const results = persons.filter(person => person.name.toLowerCase().includes(searchTerm.toLowerCase()))\n  //   setSearchResults(results)\n  // }, [searchTerm, persons])\n\n  const handleDelete = (id, e) => {\n    console.log('This is the persons before delete', persons)\n    personService\n      .remove(id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== id))\n        console.log('This is the persons after delete', persons)\n      })\n  }\n\n  return(\n    <div>\n      <h2>Phonebook</h2>\n\n      {/* <p>Filter shown with </p>\n      <input\n        type=\"text\"\n        placeholder=\"Search for user\"\n        onChange={handleFilterChange}\n        value={searchTerm}\n      />\n      <ul>\n        {console.log(searchResults)}\n        {searchResults.map((person, i) => (<li key={i}>{person.name}: {person.number}</li>))}\n      </ul> */}\n\n      <h2>Find a person</h2>\n      <Finder persons={persons} />\n\n      <h2>Add a new person</h2>\n\n      <AddPerson \n        handleSubmit={handleSubmit}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newNumber={newNumber}\n        newName={newName}\n      />\n\n        {/* <form onSubmit={handleSubmit}>\n\n          <div>\n            name: \n            <input\n              onChange={handleNameChange}\n              placeholder=\"Enter name\"\n              value={newName}\n            />\n          </div>\n\n          <div>\n            number: \n            <input \n              onChange={handleNumberChange}\n              placeholder=\"Enter number\"\n              value={newNumber}\n            />\n          </div>\n\n          <div>\n            <button type=\"submit\">Add</button>\n          </div>\n          \n        </form> */}\n\n      <h2>Numbers</h2>\n        <ul>\n          {console.log('This is persons being passed to display', persons)}\n          <Display persons={persons} handleDelete={handleDelete} />\n        </ul>\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}